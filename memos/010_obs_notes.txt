2025-01-11 Correctly aligned samples.

2025-01-17 Correct antenna configuration connected.

2025-01-20 Noticed missing samples at 2025-01-16T18:00.
           Only a few files were broken, so I will ignore for now.

2025-01-26 Switched to 16-bit int. Restarted buffer. 
           Saving some interesting events to /media/analysis/events

2025-01-29 Running in ISR mode, no analysis. 
           DNS lookup not working, so switching to 8.8.8.8 in /etc/resolv.conf

2025-02-05 Signal processing chain running now up to meteor detections.
    1. find_mode_starts.py - Detect the start of each 20 pulse mesospheric mode sequence 
        (5 pointing directions, complementary code, aliasing cancellelation, see cfg/mm1600+r.dat)
        output goes into /media/archive/metadata/tx
    2. quick_search_meteor.py - MPI paralellized range-doppler matched filterbank
        output goes into /media/archive/metadata/mf
    3. cluster_mf.py - Cluster self consistent outputs of range-doppler matched filter into meteor events. 
        filter out specular trail echoes, satellites, and PMSE echoes.
        output goes into /media/archive/metadata/detections
    4. remove_utls.py - Cleanup of digital rf files not containing the mm1600 experiment. saves about 50% of data storage
    5. mf_overview.py - Show the overview of match filter outputs on each day. Useful for figuring out if the radar is on or off
        and determining how much PMSE clutter there is.

    TODO: - Cut and store meteor events
          - interferometry calibration 
          - trajectory estimates
          - Keplerian estimates
        
2025-02-18 GPS lock lost, running without lock until problem resolved. Should not be a
	   big issue, unless the PC clock is off by multiple seconds.

	   Interferometer calibration is now done on all beams. The calibration strategy
	   uses meteors detected on multiple transmit beams. All beams are calibrated with
	   respect to the zenith beam.
	   
	   Things look to be working as expected. Meteors are detected on all beams.
	   Some further work is needed to disambiguate the interferometry in some edge cases,
	   but to first order, the majority of events are resolved as expected.

	   The multi-beam detections offer information on aliasing. If a meteor is detected
	   in the zenith beam and another beam, the SNR will provide an indication on where
	   the meteor is.
	   
2025-02-20 GPS lock issue persists. Site engineer indicates nothing wrong with cable or antenna
    - either broken antenna (it was very low cost) or antenna cable
    - antenna sky visibility blocked by a structure. 
    - faulty gpsdo unit
    - At Feb 20 22:30 a updated sandra_rx_server_gpsdo.py was start, which has a 24 hour holdover time
      and which only restarts when we have a lock
      Lock regained at 22:58

2025-02-21 
    - wrote a new digital rf recorder from scratch. pansy_uhd_rx (pansy_uhd_rx.cpp)
    - initially conjugate, (about 2025-02-21T21:00-) problematic data deleted.
      they had a wrong sign in the doppler. 
    - fixed to same convention as before at 2025-02-21T22:20Z

2025-06-03 20:00 The recording stopped for some reason. SANDRA rx took over and caused an outage.
2025-06-04 6:00  Recording restarted. Prolem with phase.
2025-06-04 7:00  Phasing fixed again after restoring the startup delay to what it was before. Data between 6-7 is broken.
2025-11-25 Power outage occurred around 2025-11-24T10:00:00Z. Restarting all processes. As I have not started all the processes in a 
long while, and there was some development since the last restart, I am making note of the startup sequence for next time.

cd src/git/pansy_receiver
# deactivate default environment (I think Nico setup this to support his Python 2.7 code, which is not used by the PANSY system)
conda deactivate 
# activate environment with libraries needed for the signal processing chain. 
source /home/radar/testenv/bin/activate
# this appears to be needed to start the receiver program written in C++, which relies on the UHD library
export LD_LIBRARY_PATH=$LD_LIBRARY_PATH:/home/radar/.syowa/lib
./pansy_uhd_rx
# delete old files
while true; do find /media/archive/ch* -type f -name 'rf*.h5' -mtime +10 -delete; sleep 60 ; done
# deleted last tx metadatafile, because the last one was corrupted due to computer shutdown
python3 find_mode_starts.py
python3 status_plot.py
python3 mesomode_boundary.py
python3 cluster_mf.py
mpirun -np 5 python3 quick_search_meteor.py
python3 meso_xc.py
python3 tx_xphase.py
python3 cut_meteors.py
mpirun -np 2 python3 process_cut_meteor.py


2025-12-10
- I noticed that all git commits are with nico's username from PANSY. I need to fix this.
- About once every few days, digital_rf encounters a problem writing raw voltage in the pansy_rx_uhd program. I added an error handling and restart the receiver when the error is encounterd. I don't know what is the cause of this error. It has only started to occur recently. It might be related to disk degradation...

2025-12-31
- rsync of files to disk caused recorder to halt. Lost three hours of data. Trying now with ionice:
ionice -c2 -n7 
